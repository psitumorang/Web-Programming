(this["webpackJsonplogin-page"]=this["webpackJsonplogin-page"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t),n.d(t,"sendPostRequest",(function(){return a})),n.d(t,"sendGetRequest",(function(){return u})),n.d(t,"sendPutRequest",(function(){return o})),n.d(t,"sendGetGroupsRequest",(function(){return p})),n.d(t,"sendDeleteRequest",(function(){return l})),n.d(t,"sendBodiedDeleteRequest",(function(){return d})),n.d(t,"sendUploadPostRequest",(function(){return c}));var r=n(1),i=n.n(r),s=n(2),a=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("ERROR"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:n}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("ERROR"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t+("undefined"!==typeof n?JSON.stringify(n.id):""),e.next=4,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}));case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),console.log("ERROR getting resource - from db module"),console.log(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log("ERROR deleting request"),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log("ERROR"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log("ERROR"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},125:function(e,t,n){"use strict";n.r(t),n.d(t,"validatePassword",(function(){return o})),n.d(t,"createAccount",(function(){return u}));var r=n(1),i=n.n(r),s=n(2),a=n(44).createHash,c=n(10),o=function(e,t,n,r){return t===n||(e({link:r}),!1)},u=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s){var u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o(t,r,s,"/registration/invalid")){e.next=6;break}return u={user_name:n,user_password:a("sha256").update(r).digest("hex")},e.next=4,c.sendPostRequest("/registration",u);case 4:void 0===e.sent.err?t({link:"/"}):t({link:"/registration/user"});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},142:function(e,t,n){},143:function(e,t,n){},150:function(e,t){},152:function(e,t){},163:function(e,t){},165:function(e,t){},192:function(e,t){},194:function(e,t){},195:function(e,t){},200:function(e,t){},202:function(e,t){},208:function(e,t){},210:function(e,t){},229:function(e,t){},241:function(e,t){},244:function(e,t){},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t),n.d(t,"changeSelectedFilter",(function(){return c})),n.d(t,"resetSelectedSort",(function(){return u})),n.d(t,"changeSelectedSort",(function(){return o})),n.d(t,"resetSelected",(function(){return l})),n.d(t,"parseFilters",(function(){return p})),n.d(t,"getFilterOptions",(function(){return d})),n.d(t,"getFilteredGroups",(function(){return m})),n.d(t,"parseFilteredGroups",(function(){return f}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(e){e(document.getElementById("topics").value)},o=function(e){e(document.getElementById("sorts").value)},u=function(e){e("none")},l=function(e){e("")},d=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/topics");case 2:n=e.sent,t(n.topics);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){for(var t="",n=0;n<e.length;n+=1)t+="<option value=".concat(e[n]," name=").concat(e[n],">").concat(e[n],"</option>");return t},m=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},""!==t){e.next=7;break}return e.next=4,a.sendGetRequest("/topics/all/".concat(n));case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,a.sendGetRequest("/topics/".concat(t,"/none"));case 9:r=e.sent;case 10:return e.abrupt("return",r.groups);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e,t,n){var r=document.getElementById("groups-area");if(r)for(;r.firstChild;)r.removeChild(r.firstChild);for(var i=function(r){var i=e[0][r],s=i.group_id,a=i.group_name,c=i.group_description,o=1===i.is_public?"Public":"Private",u="";i.topics?i.topics.forEach((function(e){u+=""===u?"".concat(e):", ".concat(e)})):u=n;var l='<div class="group-container"><div class="group-info"><ul><li id="group-id">Group Id: '+s+'</li><li id="group-name">Group Name: '+a+' </li><li id="group-description">Group Description: '+c+'</li><li id="topics">Topics: '+u+'</li><li id="is-public">'+o+'</li></ul></div><button class="join-button"> View Group </button></div>',d=document.createElement("div");d.innerHTML=l,d.onclick=function(){t({link:"/viewgroup",viewingGroup:s})},document.getElementById("groups-area").appendChild(d)},s=0;s<e[0].length;s+=1)i(s)}},256:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserPosts",(function(){return l})),n.d(t,"getProfile",(function(){return o})),n.d(t,"sendReply",(function(){return d})),n.d(t,"getRegistrationDate",(function(){return p})),n.d(t,"getPostsComments",(function(){return c})),n.d(t,"getNamesFromDB",(function(){return u}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.length;r+=1)s=a.sendGetRequest("/comment/",{id:t[r].post_id}),n.push(s);return e.next=4,Promise.all(n);case 4:for(c=e.sent,o=t,u=0;u<c.length;u+=1)o[u].comments=c[u];return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/profile/",{id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s,a,c,u,l,d,p,m,f,b,j,v,h,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.length;r+=1)for(s=0;s<t[r].comments.length;s+=1)-1===n.indexOf(t[r].comments[s].user_id)&&n.push(t[r].comments[s].user_id);for(a=[],c=0;c<n.length;c+=1)u=o(n[c]),a.push(u);return e.next=6,Promise.all(a);case 6:for(l=e.sent,d=[],p=0;p<l.length;p+=1)d.push(l[p][0][0]);for(m=t,f=0;f<m.length;f+=1)for(b=0;b<m[f].comments.length;b+=1)j=m[f].comments[b].user_id,v=d.map((function(e){return e.user_id})).indexOf(j),h=d[v].first_name,g=d[v].last_name,m[f].comments[b].name="".concat(h," ").concat(g);return e.abrupt("return",m);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/post/",{id:t});case 2:return n=e.sent,e.next=5,c(n);case 5:return r=e.sent,e.next=8,u(r);case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={post_id:t,user_id:n,comment_txt:document.getElementById("post_".concat(t)).value},e.next=3,a.sendPostRequest("/comment/",c);case 3:return o=e.sent,s(),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("at ProfileModule/getRegistrationDate with userId",t),e.next=3,a.sendGetRequest("/user/",{id:t});case 3:return n=e.sent,console.log("back from sendGetRequest, with userLst of:",n),r=n[0].registration_date.slice(0,10),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},258:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t),n.d(t,"createGroup",(function(){return c})),n.d(t,"getGroups",(function(){return o})),n.d(t,"parseGroups",(function(){return d})),n.d(t,"getAdmins",(function(){return l})),n.d(t,"getGroupMemberships",(function(){return u})),n.d(t,"nonMemberPublicGroups",(function(){return f})),n.d(t,"requestJoinGroup",(function(){return p})),n.d(t,"getRandomNum",(function(){return b})),n.d(t,"suggestGroup",(function(){return j}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s,c,o,u,l){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={group_name:n,group_creator:r,group_description:s,is_public:c,topic_1:o,topic_2:u,topic_3:l},e.next=3,a.sendPostRequest("/groups",d);case 3:void 0===e.sent.err?t({link:"/groups"}):t({link:"/error"});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,i,s,a,c,o){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetGroupsRequest("/groups");case 2:return void 0===(n=e.sent).err?t({link:"/groups"}):t({link:"/error"}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/membership-of-user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/admins");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e,t,n,r){var i=document.getElementById("groups-area");if(i)for(;i.firstChild;)i.removeChild(i.firstChild);for(var s=[],a=0;a<r.length;a+=1)s.push(r[a].group_id);for(var c=[],o=0;o<t.length;o+=1){var u=t[o].group_id;s.includes(u)&&c.push(t[o])}for(var l=function(t){var r=c[t],i="";n[r.group_id].forEach((function(e){i+=""===i?"".concat(e):", ".concat(e)}));var s=r.group_id,a=r.group_name,o=r.group_description,u=1===r.is_public?"Public":"Private",l='<div class="group-container"><div class="group-info"><ul><li id="group-id">Group Id: '+s+'</li><li id="group-name">Group Name: '+a+' </li><li id="group-description">Group Description: '+o+'</li><li id="group-admins">Admins: '+i+'</li><li id="is-public">'+u+'</li></ul></div><button class="join-button"> View Group </button></div>',d=document.createElement("div");d.innerHTML=l,d.onclick=function(){e({link:"/viewgroup",viewingGroup:s})},document.getElementById("groups-area").appendChild(d)},d=0;d<c.length;d+=1)l(d)},p=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var s,c,o,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/membership/".concat(n));case 2:return s=e.sent,e.next=5,a.sendGetRequest("/invitations-open/".concat(n));case 5:return c=e.sent,e.next=8,a.sendGetRequest("/admins/".concat(n));case 8:o=e.sent,u=0;case 10:if(!(u<s.length)){e.next=17;break}if(s[u].member_id!==t){e.next=14;break}return r("You're already a member of this group!"),e.abrupt("return");case 14:u+=1,e.next=10;break;case 17:l=0;case 18:if(!(l<c.length)){e.next=25;break}if(c[l].to_user_id!==t){e.next=22;break}return r("You've already got an open request or invitation to this group!"),e.abrupt("return");case 22:l+=1,e.next=18;break;case 25:d=0;case 26:if(!(d<o.length)){e.next=33;break}if(o[d].admin_id!==t){e.next=30;break}return r("You're already an admin of this group!"),e.abrupt("return");case 30:d+=1,e.next=26;break;case 33:return p={fromUserId:1e6,toUserId:t,groupId:n,invitationStatus:"accepted"},r("Successfully requested to join - await approval!"),e.next=37,a.sendPostRequest("/invitations/",p);case 37:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],s=0;s<t.length;s+=1)r.push(t[s].group_id);for(a=[],c=0;c<n.length;c+=1)r.includes(n[c].group_id)||1===n[c].is_public&&a.push(n[c]);return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("groups-area-non-member"))for(;r.firstChild;)r.removeChild(r.firstChild);return s=m(t,n),e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e){return Math.floor(Math.random()*e)},j=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:return r=e.sent,s=r.length,a=b(s),c=r[a],e.abrupt("return",[c]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},260:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t),n.d(t,"getPendingInvitations",(function(){return o})),n.d(t,"getGroupNames",(function(){return u})),n.d(t,"declineInvite",(function(){return d})),n.d(t,"acceptInvite",(function(){return m})),n.d(t,"getInvitationsToReview",(function(){return c})),n.d(t,"approveInvite",(function(){return f})),n.d(t,"notApproveInvite",(function(){return b}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/invitations-review/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/invitations/",{id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=11;break}if(s=a.sendGetRequest("/groups/",{id:t[r].group_id}),n.push(s),void 0===s.err){e.next=8;break}return console.log(s.err),e.abrupt("return",s);case 8:r+=1,e.next=2;break;case 11:return e.next=13,Promise.all(n);case 13:for(c=e.sent,o=t,u=0;u<c.length;u+=1)o[u].groupName=c[u].group_name;return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendPutRequest("/invitations/".concat(t),{newStatus:"declined"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return a=e.sent,s("Declined invitation to  ".concat(n)),r(),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/invitations/".concat(t),r={newStatus:"accepted"},e.next=4,a.sendPutRequest(n,r);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.invitation_id);case 2:return s=e.sent,r("Accepted invitation to  ".concat(t.groupName,". An admin will now review your invitation!")),n(),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var s,c,o,u,l,d,p,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/membership/".concat(t.group_id));case 2:s=e.sent,c=0;case 4:if(!(c<s.length)){e.next=11;break}if(s[c].member_id!==t.to_user_id){e.next=8;break}return r("This user is already in the group! You can safely decline the invitation"),e.abrupt("return");case 8:c+=1,e.next=4;break;case 11:return o="/membership/".concat(t.group_id),u={id:t.to_user_id},e.next=15,a.sendPostRequest(o,u);case 15:return l="/invitations/".concat(t.invitation_id),d={newStatus:"approved"},e.next=19,a.sendPutRequest(l,d);case 19:return p="/notifications/".concat(t.to_user_id),m={notification:{isRead:!1,msg:"You've been approved to join ".concat(t.group_name,"!")}},e.next=23,a.sendPostRequest(p,m);case 23:r("You've approved the user - and they've been added to the group! Hurrah!"),n();case 25:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="/invitations/".concat(t.invitation_id),c={newStatus:"declined"},e.next=4,a.sendPutRequest(s,c);case 4:return o=e.sent,r("You've declined the user - and they've NOT been added to the group! Hurrah!"),n(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t),n.d(t,"getGroupAnalyticsFacts",(function(){return c})),n.d(t,"getPostAnalyticsFacts",(function(){return o}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/analytics-groups");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/analytics-posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},285:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t),n.d(t,"getFlaggedPostsForReview",(function(){return c})),n.d(t,"parseFlaggedPosts",(function(){return u}));var r=n(1),i=n.n(r),s=n(2),a=n(10),c=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendGetRequest("/flag-post/".concat(t.userId));case 2:return n=e.sent,r=n.flaggedPosts,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={flaggerId:t.flaggerName,flaggerName:t.flaggerName,groupId:t.groupId,deleted:n,author:t.posting_username},e.next=3,a.sendBodiedDeleteRequest("/flag-post/".concat(t.post_id),s);case 3:return r({link:"/flaggedposts"}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function(e,t){if(0!==e.length){var n=document.getElementById("post-create-area");if(n)for(;n.firstChild;)n.removeChild(n.firstChild);for(var r=function(n){var r=e[n],i=r.post_id,s=r.posting_username,a=r.caption,c="";null!==e[n].photourl?c+='<div class="content image">\n          <img src='.concat(e[n].photourl,' class="image" alt="').concat(e[n].posting_username,"'s image\" />\n        </div>"):null!==e[n].audioUrl?c+='<div class="content audio">\n          <audio controls>\n            <source src='.concat(e[n].audioUrl,">\n          </audio>\n        </div>"):null!==e[n].videoUrl&&(c+='<div class="content video">\n          <video src='.concat(e[n].videoUrl," controls>\n            Something went wrong!\n          </video>\n        </div>"));var u='<div id="flag-container">'+"<p>Flagged by: ".concat(e[n].flaggerName,"</p>")+"<p>In group: ".concat(e[n].groupName,"</p>")+'<div class="post-container" id='.concat(i,">")+'<div class="post-info"><ul><li id="post-id" >Post Id: '+i+'</li><li id="posting-user">Posting User: '+s+'</li><li id="caption">Caption: '+a+'</li><li id="content">'+c+'</li></ul></div></div><div><input id="delete" type="submit" value="Delete post" /><input id="keep" type="submit" value="Keep post" /></div></div>',l=document.createElement("div");l.innerHTML=u,document.getElementById("post-create-area").appendChild(l),document.getElementById("delete").onclick=function(){return o(e[n],1,t)},document.getElementById("keep").onclick=function(){return o(e[n],0,t)},console.log(document.getElementById(i))},i=0;i<e.length;i+=1)r(i)}}},287:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),s=n(134),a=n.n(s),c=(n(142),n(5)),o=n(27),u=(n(143),n(43),n(0)),l=n(71);var d=function(e){var t=e.changeState,n=e.addAttempt,r=e.attempt,i="Username or password does not exist. You have ".concat(3-r," more tries");return Object(u.jsxs)("div",{className:"LoginForm",children:[Object(u.jsx)("h1",{children:"Welcome!"}),"error"===window.location.href.split("/").pop()?Object(u.jsx)("p",{children:i}):null,"locked"===window.location.href.split("/").pop()?Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Your account is locked out."}),Object(u.jsx)("p",{children:"Please wait about 30 minutes to log back in. RIP"})]}):null,Object(u.jsx)("div",{className:"textDiv",id:"usernameDiv",children:Object(u.jsxs)("label",{htmlFor:"username",children:["Username:",Object(u.jsx)("input",{className:"text",id:"username",type:"text",placeholder:"username"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password",children:["Password:",Object(u.jsx)("input",{className:"text",id:"password",type:"password",placeholder:"password"})]})}),Object(u.jsxs)("p",{children:["Not a user?",Object(u.jsx)(o.b,{id:"registrationLink",to:"/registration",onClick:function(){return t({link:"/registration"})},children:" Create an account. "})]}),Object(u.jsxs)("p",{children:["Forgot your password?",Object(u.jsx)(o.b,{id:"passwordLink",to:"/loginchangepassword",onClick:function(){return t({link:"/changepassword"})},children:" Create a new password. "})]}),Object(u.jsx)(o.b,{to:"/main",onClick:function(){return l.verifyUser(t,document.getElementById("username").value,document.getElementById("password").value,n,r)},children:Object(u.jsx)("input",{id:"loginButton",type:"submit",value:"Login"})})]})},p=n(125);var m=function(e){var t=e.changeState;return Object(u.jsxs)("div",{className:"RegistrationForm",children:[Object(u.jsx)("h1",{children:"Welcome!"}),"invalid"===window.location.href.split("/").pop()?Object(u.jsx)("p",{children:"Password confirmation does not match password."}):"user"===window.location.href.split("/").pop()?Object(u.jsx)("p",{children:"This username has already been taken."}):null,Object(u.jsx)("div",{className:"textDiv",id:"usernameDiv",children:Object(u.jsxs)("label",{htmlFor:"username",children:["Username:",Object(u.jsx)("input",{className:"text",id:"username",type:"text",placeholder:"username"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password1",children:["Password:",Object(u.jsx)("input",{className:"text",id:"password1",type:"password",placeholder:"password"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password2",children:["Confirm Password:",Object(u.jsx)("input",{className:"text",id:"password2",type:"password",placeholder:"password"})]})}),Object(u.jsx)("input",{id:"createButton",type:"submit",value:"Create Account",onClick:function(){return p.createAccount(t,document.getElementById("username").value,document.getElementById("password1").value,document.getElementById("password2").value)}})]})},f=n(71);var b=function(e){var t=e.changeState;return Object(u.jsxs)("div",{className:"ChangePasswordForm",children:[Object(u.jsx)("h1",{children:"Welcome!"}),"invalid"===window.location.href.split("/").pop()?Object(u.jsx)("p",{children:"Password confirmation does not match password."}):null,"user"===window.location.href.split("/").pop()?Object(u.jsx)("p",{children:"Username does not exist."}):null,Object(u.jsx)("div",{className:"textDiv",id:"usernameDiv",children:Object(u.jsxs)("label",{htmlFor:"username",children:["Username:",Object(u.jsx)("input",{className:"text",id:"username",type:"text",placeholder:"username"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password1",children:["New password:",Object(u.jsx)("input",{className:"text",id:"password1",type:"password",placeholder:"password"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password2",children:["Confirm new password:",Object(u.jsx)("input",{className:"text",id:"password2",type:"password",placeholder:"password"})]})}),Object(u.jsx)("input",{id:"createButton",type:"submit",value:"Update password",onClick:function(){return f.changePassword(t,document.getElementById("username").value,document.getElementById("password1").value,document.getElementById("password2").value)}})]})};var j=function(e){var t=e.changeState,n=Object(r.useState)(0),i=Object(c.a)(n,2),s=i[0],a=i[1];return Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"LoginPage",children:[Object(u.jsx)("div",{id:"artSide",children:Object(u.jsxs)("div",{className:"rectWrapper",children:[Object(u.jsx)("div",{className:"rect",id:"rect1"}),Object(u.jsx)("div",{className:"rect",id:"rect2"}),Object(u.jsx)("div",{className:"rect",id:"rect3"}),Object(u.jsx)("div",{className:"rect",id:"rect4"})]})}),Object(u.jsx)("div",{id:"loginFormContainer",children:""===window.location.href.split("/").pop()||"error"===window.location.href.split("/")[3]||"locked"===window.location.href.split("/")[3]?Object(u.jsx)(d,{changeState:function(e){return t(e)},id:"loginForm",attempt:s,addAttempt:function(e){return a(e)}}):"loginchangepassword"===window.location.href.split("/")[3]?Object(u.jsx)(b,{changeState:function(e){return t(e)}}):"registration"===window.location.href.split("/")[3]?Object(u.jsx)(m,{changeState:function(e){return t(e)},id:"registrationForm"},"registrationForm"):null})]})})},v=n(1),h=n.n(v),g=n(2),x=(n(254),n(255));var O=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)([]),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)(""),d=Object(c.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)("none"),b=Object(c.a)(f,2),j=b[0],v=b[1],O=function(){var e=Object(g.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getFilterOptions(o);case 2:return e.next=4,x.getFilteredGroups(p,j);case 4:n=e.sent,x.parseFilteredGroups(n,t,p);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O()}),[p,j]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsxs)("div",{className:"post-create-area",children:[Object(u.jsxs)("div",{id:"filterForm",children:["Filter group list by topic:",Object(u.jsxs)("div",{id:"filterInput",children:[Object(u.jsx)("select",{id:"topics",name:"topics",children:a.map((function(e){return Object(u.jsx)("option",{value:e,name:e,children:e},"topics-".concat(e))}))}),Object(u.jsxs)("div",{id:"buttons",children:[Object(u.jsx)("input",{type:"submit",onClick:function(){return x.changeSelectedFilter(m)},value:"Submit filters"}),Object(u.jsx)("input",{type:"submit",onClick:function(){return x.resetSelected(m)},value:"Reset filters"})]})]})]}),Object(u.jsxs)("div",{id:"sortForm",children:["Sort groups:",Object(u.jsxs)("div",{id:"filterInput",children:[Object(u.jsxs)("select",{id:"sorts",name:"sorts",children:[Object(u.jsx)("option",{value:"new",name:"Newest post",children:"Newest post"}),Object(u.jsx)("option",{value:"posts",name:"Number of posts",children:"Number of posts"}),Object(u.jsx)("option",{value:"members",name:"Number of members",children:"Number of members"})]}),Object(u.jsxs)("div",{id:"buttons",children:[Object(u.jsx)("input",{type:"submit",onClick:function(){return x.changeSelectedSort(v)},value:"Submit sort"}),Object(u.jsx)("input",{type:"submit",onClick:function(){return x.resetSelectedSort(v)},value:"Reset sort"})]})]})]})]}),Object(u.jsx)("div",{className:"groups-area",id:"groups-area",children:"No groups meet the criteria chosen!"})]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},k=(n(256),n(257)),y=k.getProfile,w=k.sendReply,N=k.getRegistrationDate;var I=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)({biography:"",first_name:"Stacy",last_name:"Shapiro",user_id:9,profile_picture_url:"https://www.psypost.org/wp-content/uploads/2017/08/meditating-woman.jpg"}),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)([]),d=Object(c.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)(""),b=Object(c.a)(f,2),j=b[0],v=b[1],x=function(){var e=Object(g.a)(h.a.mark((function e(){var t,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.userId,e.next=3,y(t);case 3:return r=e.sent,e.next=6,N(t);case 6:i=e.sent,console.log("user registration date is: ",i),m([]),o(r[0][0]),v(i);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x()}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{id:"cover_space",children:[Object(u.jsx)("img",{id:"user_profile_pic",src:a.profile_picture_url,alt:""}),Object(u.jsxs)("div",{id:"main_title",children:["".concat(n.username),"'s FaceTok Page"]})]}),Object(u.jsxs)("div",{id:"nav_button_container",children:[Object(u.jsx)("div",{className:"nav_button",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"nav_button",onClick:function(){return t({link:"/home"})},onKeyDown:function(){return t({link:"/home"})},role:"link",tabIndex:0,children:"Groups"}),Object(u.jsx)("div",{className:"nav_button",onClick:function(){return t({link:"/changepassword",userId:a.user_id})},onKeyDown:function(){return t({link:"/changepassword",userId:a.user_id})},role:"link",tabIndex:0,children:"Set bio or profile pic"}),Object(u.jsx)("div",{className:"nav_button",onClick:function(){return t({link:"/changepassword",userId:a.user_id})},onKeyDown:function(){return t({link:"/changepassword",userId:a.user_id})},role:"link",tabIndex:0,children:"Change password"}),Object(u.jsx)("div",{className:"nav_button",id:"deactivateButton",onClick:function(){return t({link:"/deactivate-account"})},onKeyDown:function(){return t({link:"/deactivate-account"})},role:"link",tabIndex:0,children:"Deactivate account"})]}),Object(u.jsxs)("div",{id:"main_content_container",children:[Object(u.jsxs)("div",{id:"key_bio_info",children:[Object(u.jsxs)("b",{children:[n.username,"'s bio"]}),Object(u.jsx)("p",{}),a.biography,Object(u.jsx)("p",{}),Object(u.jsx)("p",{}),"Account registration date:",Object(u.jsx)("p",{}),j]}),Object(u.jsx)("div",{id:"post_container",children:p.map((function(e){return Object(u.jsxs)("div",{className:"wall_post",children:[Object(u.jsx)("b",{children:Object(u.jsxs)("div",{className:"main_post",children:["".concat(a.first_name," ").concat(a.last_name),"\xa0posted:"]})}),Object(u.jsx)("p",{}),Object(u.jsx)("div",{className:"post_caption",children:e.caption}),Object(u.jsxs)("div",{className:"reply_content_container",children:[e.comments.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsx)("b",{className:"reply_content_name",children:e.name}),Object(u.jsx)("div",{className:"reply_text",children:e.comment_txt})]},"comment-".concat(e.name))})),Object(u.jsx)("p",{}),Object(u.jsxs)("div",{className:"reply_container",children:[Object(u.jsx)("div",{className:"post_reply_textbox",id:"reply_for_post_".concat(e.post_id),children:" Type your reply here..."}),Object(u.jsx)("div",{className:"post_reply_button",onClick:function(){return w(e.post_id,a.user_id,"testcommentinsertion!",x)},onKeyDown:function(){return w(e.post_id,a.user_id,"testcommentinsertion!",x)},role:"link",tabIndex:0,children:"Reply!"})]})]})]},"post-".concat(e.post_id))}))})]})]})},C=(n(258),n(259));var _=function(e){var t=e.state,n=e.changeState,i=Object(r.useState)(" "),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)([]),d=Object(c.a)(l,2),p=(d[0],d[1]),m=Object(r.useState)([]),f=Object(c.a)(m,2),b=f[0],j=f[1],v=Object(r.useState)([]),x=Object(c.a)(v,2),O=x[0],k=x[1],y=function(){var e=Object(g.a)(h.a.mark((function e(){var r,i,s,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getGroups(n);case 2:return r=e.sent,e.next=5,C.getAdmins();case 5:return i=e.sent,e.next=8,C.getGroupMemberships(t.userId);case 8:return s=e.sent,p(r.result),C.parseGroups(n,r.result[0],i,s),a=r.result[0],e.next=14,C.nonMemberPublicGroups(s,a);case 14:return c=e.sent,e.next=17,C.suggestGroup(s,a);case 17:o=e.sent,j(c),"undefined"===typeof o[0]&&(o=[]),k(o);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){o(e)},N=function(){var e=Object(g.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.createGroup(n,document.getElementById("groupname").value,1,document.getElementById("groupdescription").value,document.getElementById("ispublic").value,document.getElementById("topic1").value,document.getElementById("topic2").value,document.getElementById("topic3").value);case 2:return e.sent,e.next=5,C.getGroups(n);case 5:return t=e.sent,e.next=8,C.getAdmins();case 8:r=e.sent,p(t.result),C.parseGroups(n,t.result[0],r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){y()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(t.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return n({link:"/main"})},onKeyDown:function(){return n({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return n({link:"/profile"})},onKeyDown:function(){return n({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return n({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return n({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return n({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return n({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return n({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsxs)("div",{className:"post-area",children:[Object(u.jsxs)("div",{className:"left-group-input",children:[Object(u.jsx)("div",{className:"textDiv",id:"groupnameDiv",children:Object(u.jsxs)("label",{htmlFor:"groupname",children:["Group Name:",Object(u.jsx)("input",{className:"text",id:"groupname",type:"text",placeholder:"group name"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"groupdescriptionDiv",children:Object(u.jsxs)("label",{htmlFor:"groupdescription",children:["Group Description:",Object(u.jsx)("input",{className:"text",id:"groupdescription",type:"text",placeholder:"group description"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"ispublicDiv",children:Object(u.jsxs)("label",{htmlFor:"ispublic",children:["Is Public?",Object(u.jsx)("input",{className:"text",id:"ispublic",type:"text",placeholder:"1 or 0"})]})})]}),Object(u.jsxs)("div",{className:"right-group-input",children:[Object(u.jsx)("div",{className:"textDiv",id:"topic1Div",children:Object(u.jsxs)("label",{htmlFor:"topic1",children:["Topic 1:",Object(u.jsx)("input",{className:"text",id:"topic1",type:"text",placeholder:"group topic 1"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"topic2Div",children:Object(u.jsxs)("label",{htmlFor:"groupdescription",children:["Topic 2:",Object(u.jsx)("input",{className:"text",id:"topic2",type:"text",placeholder:"group topic 2"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"topic-3-Div",children:Object(u.jsxs)("label",{htmlFor:"ispublic",children:["Topic 3:",Object(u.jsx)("input",{className:"text",id:"topic3",type:"text",placeholder:"group topic 3"})]})})]}),Object(u.jsx)("button",{type:"submit",className:"createGroup",onClick:function(){N(),y()},children:" Create A Group "})]}),Object(u.jsx)("div",{className:"heading-for-groups",id:"heading-for-groups",children:"Groups in which you're a member:"}),Object(u.jsx)("div",{className:"groups-area",id:"groups-area",children:"There are no groups yet!"}),Object(u.jsx)("div",{className:"groups-non-member-message",id:"groups-non-member-message",children:a}),Object(u.jsx)("div",{className:"heading-for-groups",id:"heading-for-groups-non-member",children:"Other public groups you can request to join:"}),Object(u.jsxs)("div",{className:"groups-area",id:"groups-area-non-member",children:[Object(u.jsx)("p",{}),b.map((function(e){return Object(u.jsxs)("div",{className:"non-member-group group-container",children:[Object(u.jsx)("div",{children:"Group name: ".concat(e.group_name)}),Object(u.jsx)("div",{children:"Group description: ".concat(e.group_description)}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"button",value:"Request to join group",id:"submit",onClick:function(){return C.requestJoinGroup(t.userId,e.group_id,w)}})}),Object(u.jsx)("p",{})]},e.group_name)}))]}),Object(u.jsx)("div",{className:"heading-for-groups",id:"heading-for-suggested-group",children:"Here's a heavily personalised (not randomised at all) group recommendation:"}),Object(u.jsx)("div",{className:"groups-area",id:"groups-area-suggestions",children:O.map((function(e){return Object(u.jsxs)("div",{className:"non-member-group group-container",children:[Object(u.jsx)("div",{children:"Group name: ".concat(e.group_name)}),Object(u.jsx)("div",{children:"Group description: ".concat(e.group_description)}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"button",value:"Request to join group",id:"submit",onClick:function(){return C.requestJoinGroup(t.userId,e.group_id,w)}})}),Object(u.jsx)("p",{})]},"suggest-".concat(e.group_name))}))})]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return n({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return n({link:"/"})},children:"Log out"})]})]})]})},R=n(10),D=function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.sendGetRequest("/notifications/",{id:t});case 2:if(void 0!==(n=e.sent).err){e.next=6;break}return console.log(n),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=D;n(260);var S=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)([]),s=Object(c.a)(i,2),a=s[0],o=s[1],l=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(n.userId);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(a),Object(r.useEffect)((function(){l()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsx)("div",{className:"main-area",children:a.map((function(e){return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("div",{className:"title",children:"Notification! ".concat(new Date(Date.parse(e.date)).getMonth(),"-").concat(new Date(Date.parse(e.date)).getDate(),"-").concat(new Date(Date.parse(e.date)).getFullYear()," at ").concat(new Date(Date.parse(e.date)).getHours(),":").concat(new Date(Date.parse(e.date)).getMinutes())}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"mark-as-read-dot ".concat(1===e.is_read?"read":"unread")}),Object(u.jsx)("div",{className:"message",children:e.msg})]})]},e.id)}))}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},E=n(44).createHash,P=n(10).sendPutRequest,q=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("entered change password with pass 1 of ",t,"and pass 2 of ",n),t===n){e.next=5;break}i("the two passwords don't match - try again!"),e.next=13;break;case 5:return s=E("sha256").update(t).digest("hex"),a={id:r,user_password:s},c="/user/".concat(r),e.next=10,P(c,a);case 10:o=e.sent,console.log("printing response ",o),i("password updated successfully!");case 13:return e.abrupt("return",0);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){var i,s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:n,biography:t},s="/profile/".concat(n),e.next=4,P(s,i);case 4:a=e.sent,console.log("printing response ",a),r("bio updated successfully!");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){var i,s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:n,profilePictureURL:t},s="/profile-pic/".concat(n),e.next=4,P(s,i);case 4:a=e.sent,console.log("printing response ",a),r("profile pic updated successfully!");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),M=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),e,Object(u.jsx)("p",{})]})},A=function(e){var t=e.userId,n=e.changeState,i=Object(r.useState)(""),s=Object(c.a)(i,2),a=s[0],o=s[1],l=function(e){o(e)};return Object(u.jsxs)("div",{children:[M(a),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password1",children:["New password:",Object(u.jsx)("input",{className:"text",id:"changepassword1",type:"password",placeholder:"password"})]})}),Object(u.jsx)("div",{className:"textDiv",id:"passwordDiv",children:Object(u.jsxs)("label",{htmlFor:"password2",children:["Confirm new password:",Object(u.jsx)("input",{className:"text",id:"changepassword2",type:"password",placeholder:"password"})]})}),Object(u.jsx)("input",{id:"updatePasswordButton",type:"submit",value:"Update Password",onClick:function(){return q(document.getElementById("changepassword1").value,document.getElementById("changepassword2").value,t,l)}}),Object(u.jsx)("p",{}),Object(u.jsx)("div",{className:"textDiv",id:"newBioDiv",children:Object(u.jsxs)("label",{htmlFor:"newBio",children:["New bio:",Object(u.jsx)("input",{className:"text",id:"newBioInput",type:"text",placeholder:"Enter new Bio text here"})]})}),Object(u.jsx)("input",{id:"updateBioButton",type:"submit",value:"Update Bio",onClick:function(){return F(document.getElementById("newBioInput").value,t,l)}}),Object(u.jsx)("p",{}),Object(u.jsx)("div",{className:"textDiv",id:"newProfilePicDiv",children:Object(u.jsxs)("label",{htmlFor:"newPic",children:["New profile pic:",Object(u.jsx)("input",{className:"text",id:"newPicInput",type:"text",placeholder:"Paste the URL to an image here"})]})}),Object(u.jsx)("input",{id:"updatePictureButton",type:"submit",value:"Update Profile Pic",onClick:function(){return B(document.getElementById("newPicInput").value,t,l)}}),Object(u.jsx)("p",{}),Object(u.jsx)("input",{id:"backToProfileButton",type:"submit",value:"Back to profile page",onClick:function(){return n({link:"/profile",id:t})}})]})},T=n(137),U=n.n(T),H=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.post(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=H,K=n(10),Y=function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendGetGroupsRequest("/groups/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendGetRequest("/admins/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendDeleteRequest("/admins?groupId=".concat(t.viewingGroup,"&adminUser=").concat(document.getElementById("revokeAdmin").value,"&groupName=").concat(r.group.group_name));case 2:return"undefined"!==typeof(s=e.sent).message&&n({link:"/viewgroup/error"}),e.next=6,i();case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),W=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPostRequest("/admins",{admin:{adminUser:document.getElementById("addAdmin").value,groupId:t.group.group_id,isCreator:0,groupName:t.group.group_name}});case 2:if("undefined"===typeof(i=e.sent).err){e.next=6;break}return r({link:"/viewgroup/admin"}),e.abrupt("return",null);case 6:return e.next=8,n();case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),V=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){var i,s,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/invitations/",s=document.getElementById("addNonAdmin").value,e.next=4,K.sendGetRequest("/user-by-name/".concat(s));case 4:return a=e.sent,c={fromUserId:n.userId,groupId:t.group.group_id,toUserId:a[0].user_id,invitationStatus:"pending"},e.next=8,K.sendPostRequest(i,c);case 8:return o=e.sent,e.next=11,r();case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendBodiedDeleteRequest("/leave-group/".concat(n),{userId:t});case 2:r("Membership deleted! You are no longer a member of the group");case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i,s,a,c){var o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=document.getElementById("postContent").files[0],!("image"===s&&o.size>1e7)){e.next=4;break}return a({link:"/viewgroup/post/error"}),e.abrupt("return",null);case 4:if("audio"!==s&&"video"!==s||!(o.size>1e8)){e.next=7;break}return a({link:"/viewgroup/post/error"}),e.abrupt("return",null);case 7:return(u=new FormData).append("file",o),u.append("upload_preset",["yj7lgb8v"]),L("https://api.cloudinary.com/v1_1/cis557-project-group-18/".concat("image"===s?"image":"video","/upload"),u).then((function(e){var a={post_group:n,posting_user:r,caption:i,posting_username:c};return"image"===s?a.photourl=e.data.url:"video"===s?a.videoUrl=e.data.url:a.audioUrl=e.data.url,K.sendPostRequest("/post/".concat(s),a).then((function(){t({link:"/viewgroup"})}))})),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,i,s,a,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i,s,a,c){var o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==s){e.next=2;break}return e.abrupt("return",X(t,n,r,i,s,a,c));case 2:if("video"!==s){e.next=4;break}return e.abrupt("return",X(t,n,r,i,s,a,c));case 4:if("image"!==s){e.next=6;break}return e.abrupt("return",X(t,n,r,i,s,a,c));case 6:if(o={post_group:n,posting_user:r,posting_username:c,caption:i},!(i.length>200)){e.next=10;break}return t({link:"/viewgroup/post/error"}),e.abrupt("return",null);case 10:return e.next=12,K.sendPostRequest("/post/text",o);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,i,s,a,c){return e.apply(this,arguments)}}(),$=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendGetRequest("/posts/".concat(n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPutRequest("/flag-post/".concat(n));case 2:return r=e.sent,t({link:"/viewgroup"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPutRequest("/hide-post/".concat(n));case 2:return r=e.sent,t({link:"/viewgroup"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a,c,o,u,l,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendGetRequest("/admins/".concat(t.viewingGroup));case 2:for(s=e.sent,a=[],c=0;c<s.length;c+=1)console.log(s[c].user_name),a.push(s[c].user_name);if(i!==t.userId){e.next=11;break}return e.next=8,K.sendDeleteRequest("/post/".concat(r));case 8:return o=e.sent,n({link:"/viewgroup"}),e.abrupt("return",o);case 11:if(!a.includes(t.username)){e.next=25;break}return e.next=14,K.sendDeleteRequest("/post/".concat(r));case 14:return u=e.sent,e.next=17,K.sendGetRequest("/user/".concat(i));case 17:return l=e.sent,d=l[0].user_name,alert("You have deleted ".concat(d,"'s post. A notification has been sent to ").concat(d," regarding this deletion.")),n({link:"/viewgroup"}),p={notification:{isRead:!1,msg:"Group admin ".concat(t.username," deleted your post with id ").concat(r)}},e.next=24,K.sendPostRequest("/notifications/".concat(i),p);case 24:return e.abrupt("return",u);case 25:return alert("You cannot delete this post because you are neither the author or admin of this group."),e.abrupt("return",null);case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),re=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPutRequest("/flag-reply/".concat(n));case 2:return r=e.sent,t({link:"/viewgroup"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPutRequest("/hide-reply/".concat(n));case 2:return r=e.sent,t({link:"/viewgroup"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendDeleteRequest("/reply/".concat(n));case 2:return r=e.sent,t({link:"/viewgroup"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.sendPostRequest("/reply/".concat(t),{caption:document.getElementById("edit-reply").value});case 2:return r=e.sent,n(-1),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i,s){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={post_id:t,post_group:n,posting_user:r,caption:i},console.log(a),e.next=4,K.sendPostRequest("/reply",a);case 4:c=e.sent,s({link:"/viewgroup"}),console.log(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i,s){return e.apply(this,arguments)}}(),oe=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,K.sendGetRequest("/replies/".concat(n));case 3:return r=e.sent,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(e){var t=document.getElementById("posts-area");if(t)for(;t.firstChild;)t.removeChild(t.firstChild);for(var n=0;n<e.length;n+=1){var r=e[n],i=r.post_id,s=r.posting_username,a=r.caption,c="";null!==e[n].photourl?c+='<div class="content image">\n          <img src='.concat(e[n].photourl,' class="image" alt="').concat(e[n].posting_username,"'s image\" />\n        </div>"):null!==e[n].audioUrl?c+='<div class="content audio">\n          <audio controls>\n            <source src='.concat(e[n].audioUrl,">\n          </audio>\n        </div>"):null!==e[n].videoUrl&&(c+='<div class="content video">\n          <video src='.concat(e[n].videoUrl," controls>\n            Something went wrong!\n          </video>\n        </div>"));var o='<div class="post-container" id='.concat(i,">")+'<div class="post-info"><ul><li id="post-id" >Post Id: '+i+'</li><li id="posting-user">Posting User: '+s+'</li><li id="caption">Caption: '+a+'</li><li id="content">'+c+"</li></ul></div>"+'<div class="comments" id="comments-'.concat(i,'">')+'<div class="create-comment"><div class="reply">'+'<textarea class="reply-input" id="input-'.concat(i,'" placeholder="reply to this post"></textarea>')+'<button type="reply-button" id="reply-button-'.concat(i,'"> Reply </button>')+'</div><div type="flag-and-delete-post"><p>Post options: </p>'+'<button type="flag" id="flag-post-'.concat(i,'"> Flag </button>')+'<button type="hide" id="hide-post-'.concat(i,'"> Hide </button>')+'<button type="delete" id="delete-post-'.concat(i,'"> Delete </button>')+"</div></div></div></div>",u=document.createElement("div");u.innerHTML=o,document.getElementById("posts-area").appendChild(u)}},le=function(e,t,n,r){for(var i=0;i<e.length;i+=1)for(var s=e[i].post_id,a=document.getElementById("comments-".concat(s)),c=function(e){var i=t[e],c=i.reply_id,o=i.posting_user,u=i.caption;if(i.post_id===s){var l='<div class="reply-container"><div class="reply-info"><ul><li id="reply-id" >Reply Id: '+c+'</li><li id="replying-user">Replying User: '+o+"</li>";l+=-1===n?'<li id="caption">Caption: '.concat(u)+'</li></ul></div><div type="flag-and-delete">'+'<button type="flag" id="flag-reply-'.concat(c,'"> Flag </button>')+'<button type="hide" id="hide-reply-'.concat(c,'"> Hide </button>')+'<button type="edit" id="edit-reply-'.concat(c,'"> Edit </button>')+'<button type="delete" id="delete-reply-'.concat(c,'"> Delete </button>')+"</div></div>":"</ul></div>"+'<textarea class="reply-input" id="edit-reply" placeholder="reply to this post">'.concat(u,"</textarea>")+'<button type="edit-reply-submit-button" id="edit-reply-submit-button"> Reply </button></div></div>';var d=document.createElement("div");d.innerHTML=l,a.appendChild(d),null!==document.getElementById("edit-reply-submit-button")&&(document.getElementById("edit-reply-submit-button").onclick=function(){ae(c,r)})}},o=0;o<t.length;o+=1)c(o)},de=function(e,t,n,r,i){for(var s=function(r){var i=n[r],s=i.post_id,a=i.posting_user,c=document.getElementById("reply-button-".concat(s)),o=document.getElementById("flag-post-".concat(s)),u=document.getElementById("hide-post-".concat(s)),l=document.getElementById("delete-post-".concat(s));c.onclick=function(){ce(s,e.viewingGroup,e.userId,document.getElementById("input-".concat(s)).value,t)},o.onclick=function(){ee(t,s)},u.onclick=function(){te(t,s)},l.onclick=function(){ne(e,t,s,a)}},a=0;a<n.length;a+=1)s(a);for(var c=function(e){var n=r[e].reply_id,s=document.getElementById("flag-reply-".concat(n)),a=document.getElementById("hide-reply-".concat(n)),c=document.getElementById("delete-reply-".concat(n)),o=document.getElementById("edit-reply-".concat(n));s&&(s.onclick=function(){re(t,n)},a.onclick=function(){ie(t,n)},c.onclick=function(){se(t,n)},o.onclick=function(){i(n)})},o=0;o<r.length;o+=1)c(o)};n(278);var pe=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)("text"),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)({group:{},admins:[]}),d=Object(c.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)(" "),b=Object(c.a)(f,2),j=b[0],v=b[1],x=Object(r.useState)(-1),O=Object(c.a)(x,2),k=O[0],y=O[1],w=function(){var e=Object(g.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(n.viewingGroup);case 2:return t=e.sent,e.next=5,J(n.viewingGroup);case 5:r=e.sent,m((function(){return{group:t,admins:r}}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){v(e)},I=Object(r.useState)([]),C=Object(c.a)(I,2),_=C[0],R=C[1],D=function(){var e=Object(g.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,n.viewingGroup);case 2:r=e.sent,R(r.result),ue(r.result[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,n.viewingGroup,n.userId,document.getElementById("postCaption").value,a,w,n.username);case 2:return e.sent,e.next=5,$(t,n.viewingGroup);case 5:r=e.sent,R(r.result[0]),console.log("all posts: ".concat(JSON.stringify(_))),t({link:"/viewgroup"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(r.useState)([]),E=Object(c.a)(S,2),P=(E[0],E[1]),q=function(){var e=Object(g.a)(h.a.mark((function e(){var r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,n.viewingGroup);case 2:return r=e.sent,e.next=5,oe(t,n.viewingGroup);case 5:i=e.sent,P(i.result),i.result&&(le(r.result[0],i.result[0],k,y),de(n,t,r.result[0],i.result[0],y));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.next=4,D();case 4:return e.next=6,q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){F()}),[n,k]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsxs)("div",{className:"info-area",id:"info-area",children:[Object(u.jsx)("div",{className:"group-view",children:Object(u.jsx)("div",{className:"group-info",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{id:"group-id",children:"Group Id: ".concat(p.group.group_id)}),Object(u.jsx)("li",{id:"group-name",children:"Group Name: ".concat(p.group.group_name)}),Object(u.jsx)("li",{id:"group-description",children:"Group Description: ".concat(p.group.group_description)}),Object(u.jsx)("li",{id:"group-admins",children:"Admins: ".concat(function(e){var t="";return e.forEach((function(e){var n=1===e.is_creator?"".concat(e.user_name," (creator)"):"".concat(e.user_name);t+=""===t?"".concat(n," "):", ".concat(n)})),t}(p.admins))}),Object(u.jsx)("li",{id:"is-public",children:1===p.group.is_public?"Public":"Private"})]})})}),Object(u.jsx)("div",{className:"join-group",id:"join-group-id",children:Object(u.jsx)("input",{type:"button",value:"Leave group",id:"submit",onClick:function(){return Q(n.userId,p.group.group_id,N)}})})]}),j,Object(u.jsxs)("div",{className:"view-area",id:"groups-area",children:[Object(u.jsxs)("div",{id:"revoke",children:[n.link.includes("/viewgroup/error")?Object(u.jsx)("p",{children:"Error: cannot revoke creator of group"}):null,Object(u.jsxs)("label",{htmlFor:"revokeAdmin",children:["Revoke Admin: ",Object(u.jsx)("input",{id:"revokeAdmin",type:"text",placeholder:"Enter username"})]}),Object(u.jsx)("input",{type:"button",value:"Submit",id:"submit",onClick:function(){return z(n,t,p,m)}})]}),Object(u.jsxs)("div",{id:"add",children:[n.link.includes("/viewgroup/admin")?Object(u.jsx)("p",{children:"Error: potential admin is not a group member"}):null,Object(u.jsxs)("label",{htmlFor:"addAdmin",children:["Add Admin: ",Object(u.jsx)("input",{id:"addAdmin",type:"text",placeholder:"Enter username"})]}),Object(u.jsx)("input",{type:"button",value:"Submit",id:"submit",onClick:function(){return W(p,m,t)}})]}),Object(u.jsxs)("div",{id:"add-non-admin",children:[Object(u.jsxs)("label",{htmlFor:"addNonAdmin",children:["Invite a non-Admin member:",Object(u.jsx)("input",{id:"addNonAdmin",type:"text",placeholder:"Enter username"})]}),Object(u.jsx)("input",{type:"button",value:"Submit",id:"submit",onClick:function(){return V(p,n,m)}})]})]}),Object(u.jsxs)("div",{className:"posts-area",children:[Object(u.jsxs)("div",{className:"text-input",children:["Create Post:",n.link.includes("/viewgroup/post/error")?Object(u.jsx)("p",{children:"Error: post is too large"}):null,Object(u.jsxs)("div",{id:"options",children:[Object(u.jsxs)("label",{htmlFor:"textInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"textInput",name:"msgType",onClick:function(){return o("text")}}),"Text message"]}),Object(u.jsxs)("label",{htmlFor:"audioInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"audioInput",name:"msgType",onClick:function(){return o("audio")}}),"Audio message"]}),Object(u.jsxs)("label",{htmlFor:"videoInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"videoInput",name:"msgType",onClick:function(){return o("video")}}),"Video message"]}),Object(u.jsxs)("label",{htmlFor:"imageInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"imageInput",name:"msgType",onClick:function(){return o("image")}}),"Image message"]})]}),"text"===a?Object(u.jsx)("div",{id:"form",children:Object(u.jsx)("textarea",{id:"postCaption",placeholder:"Post message to group"})}):"audio"===a?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("textarea",{id:"postCaption",placeholder:"Write a caption"}),Object(u.jsx)("input",{type:"file",id:"postContent",multiple:!0,accept:"audio/*"})]}):"video"===a?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("textarea",{id:"postCaption",placeholder:"Write a caption"}),Object(u.jsx)("input",{type:"file",id:"postContent",multiple:!0,accept:"video/*"})]}):"image"===a?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("textarea",{id:"postCaption",placeholder:"Write a caption"}),Object(u.jsx)("input",{type:"file",id:"postContent",multiple:!0,accept:"image/*"})]}):null,Object(u.jsx)("button",{className:"post-button",type:"submit",onClick:function(){return G()},children:" Post Message "})]}),Object(u.jsx)("div",{className:"posts",id:"posts-area"})]})]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},me=(n(279),n(280));var fe=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)([]),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)([]),d=Object(c.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)("test"),b=Object(c.a)(f,2),j=b[0],v=b[1],x=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getPendingInvitations(n.userId);case 2:return t=e.sent,e.next=5,me.getGroupNames(t);case 5:t=e.sent,o(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getInvitationsToReview(n.userId);case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){v(e)};return Object(r.useEffect)((function(){x(),O()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsx)("div",{id:"message",children:j}),Object(u.jsx)("div",{children:"Invitations to review for groups for which you're an admin:"}),p.map((function(e){return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("div",{className:"title",children:"Review accepted invitation"}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"invite-message",children:"".concat(e.user_name," has accepted an invitation to join ").concat(e.group_name,". Do you approve their membership?  ")}),Object(u.jsx)("button",{className:"approve-invitation",type:"button",onClick:function(){return me.approveInvite(e,O,k)},children:" Accept "}),Object(u.jsx)("button",{className:"decline-invitation",type:"button",onClick:function(){return me.notApproveInvite(e,O,k)},children:" Decline "})]})]},e.invitation_id)})),Object(u.jsx)("div",{children:"Group invitations extended to you:"}),a.map((function(e){return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("div",{className:"title",children:"Invitation"}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"invite-message",children:"You have been invited to join group ".concat(e.groupName,". Do you accept?  ")}),Object(u.jsx)("button",{className:"accept-invitation",type:"button",onClick:function(){return me.acceptInvite(e,x,k,n.userId)},children:" Accept "}),Object(u.jsx)("button",{className:"decline-invitation",type:"button",onClick:function(){return me.declineInvite(e.invitation_id,e.groupName,x,k)},children:" Decline "})]})]},e.invitation_id)}))]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},be=n(10).sendDeleteRequest,je=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"invitations/").concat(t),e.next=3,be(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"membership/").concat(t),e.next=3,be(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"admins/").concat(t),e.next=3,be(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"profile/").concat(t),e.next=3,be(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"user/").concat(t),e.next=3,be(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/",e.next=3,je(t,i);case 3:return e.next=5,ve(t,i);case 5:return e.next=7,he(t,i);case 7:return e.next=9,ge(t,i);case 9:return e.next=11,xe(t,i);case 11:n("Account deactivated successfully. You will be rerouted to the login page"),r({link:"/"});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ke=Oe,ye=function(e){var t=e.state,n=e.changeState,i=t.userId,s=Object(r.useState)("Are you sure you want to deactivate your account? This pretty much deletes everything"),a=Object(c.a)(s,2),o=a[0],l=a[1],d=function(e){l(e)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),o,Object(u.jsx)("p",{})]}),Object(u.jsx)("input",{id:"deactivateAccountButton",type:"submit",value:"Deactivate Account",onClick:function(){return ke(i,d,n)}})]})},we=n(70),Ne=n(10),Ie=function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r,i,s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.sendGetRequest("/convo/".concat(t));case 2:for(n=e.sent,r=[],i=0;i<n.length;i+=1)s=-1,a="",n[i].user1===t?(s=n[i].user2,a=n[i].user2Name):(a=n[i].user1Name,s=n[i].user1),r.push(Object(we.a)(Object(we.a)({},n[i]),{},{otherName:a,otherId:s}));return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){if(0!==t.length){var n=document.getElementById("view-convos");if(n)for(;n.firstChild;)n.removeChild(n.firstChild)}for(var r=function(n){var r='<div class="convo-container">\n      <div class="convo-info"> <ul> <li id="convo-name">Messages with: '.concat(t[n].otherName," </li> </ul> </div> </div>"),i=document.createElement("div");i.innerHTML=r,i.onclick=function(){e({link:"/conversation",viewingConvo:{id:t[n].convoId,otherUserId:t[n].otherId}})},document.getElementById("view-convos").appendChild(i)},i=0;i<t.length;i+=1)r(i)},_e=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.getElementById("firstMsg").files[0],!("image"===t&&s.size>1e7)){e.next=4;break}return i({link:"/messages/img"}),e.abrupt("return",null);case 4:if("audio"!==t&&"video"!==t||!(s.size>1e8)){e.next=7;break}return i({link:"/messages/av"}),e.abrupt("return",null);case 7:return(a=new FormData).append("file",s),a.append("upload_preset",["yj7lgb8v"]),L("https://api.cloudinary.com/v1_1/cis557-project-group-18/".concat("image"===t?"image":"video","/upload"),a).then((function(e){return console.log("SENT MEDIA"),Ne.sendGetRequest("/user-by-name/".concat(document.getElementById("otherName").value)).then((function(s){if(0===s.length)return i({link:"/messages/user"}),null;var a=s[0].user_id,c={toId:a,fromId:n.userId,senderName:n.username,receiverName:s[0].user_name};return"image"===t?c.img=e.data.url:"video"===t?c.video=e.data.url:c.audio=e.data.url,Ne.sendPostRequest("/message/".concat(t,"/").concat(a),{msg:c}).then((function(e){return"undefined"!==typeof e.err&&"self"===e.err?(i({link:"/messages/error"}),null):"undefined"!==typeof e.err&&"group"===e.err?(i({link:"/messages/group"}),null):r().then((function(){return e}))}))}))})),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Re=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=2;break}return e.abrupt("return",_e(t,n,r,i));case 2:if("video"!==t){e.next=4;break}return e.abrupt("return",_e(t,n,r,i));case 4:if("image"!==t){e.next=6;break}return e.abrupt("return",_e(t,n,r,i));case 6:return e.next=8,Ne.sendGetRequest("/user-by-name/".concat(document.getElementById("otherName").value));case 8:if(0!==(s=e.sent).length){e.next=12;break}return i({link:"/messages/user"}),e.abrupt("return",null);case 12:return a=s[0].user_id,c={toId:a,fromId:n.userId,senderName:n.username,receiverName:s[0].user_name,txt:document.getElementById("firstMsg").value},e.next=16,Ne.sendPostRequest("/message/text/".concat(a),{msg:c});case 16:if("undefined"===typeof(o=e.sent).err||"self"!==o.err){e.next=20;break}return i({link:"/messages/error"}),e.abrupt("return",null);case 20:if("undefined"===typeof o.err||"group"!==o.err){e.next=23;break}return i({link:"/messages/group"}),e.abrupt("return",null);case 23:return e.next=25,r();case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();n(281);var De=function(e){var t=Object(r.useState)([]),n=Object(c.a)(t,2),i=(n[0],n[1]),s=Object(r.useState)("text"),a=Object(c.a)(s,2),o=a[0],l=a[1],d=e.changeState,p=e.state,m=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(p.userId);case 2:t=e.sent,i(t),Ce(d,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(p.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return d({link:"/main"})},onKeyDown:function(){return d({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return d({link:"/profile"})},onKeyDown:function(){return d({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return d({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return d({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return d({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return d({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return d({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsxs)("div",{className:"info-area",children:["Start a new conversation!",Object(u.jsx)("br",{}),"error"===window.location.href.split("/").pop()?"ERROR sending message: cannot message self.":null,"group"===window.location.href.split("/").pop()?"ERROR sending message: cannot message user not in a group with you.":null,"user"===window.location.href.split("/").pop()?"ERROR sending message: cannot message to user that does not exist.":null,"img"===window.location.href.split("/").pop()?"ERROR sending message: image file too large.":null,"av"===window.location.href.split("/").pop()?"ERROR sending message: audio/video file too large.":null,Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"textInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"textInput",name:"msgType",onClick:function(){return l("text")}}),"Text message"]}),Object(u.jsxs)("label",{htmlFor:"audioInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"audioInput",name:"msgType",onClick:function(){return l("audio")}}),"Audio message"]}),Object(u.jsxs)("label",{htmlFor:"videoInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"videoInput",name:"msgType",onClick:function(){return l("video")}}),"Video message"]}),Object(u.jsxs)("label",{htmlFor:"imageInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"imageInput",name:"msgType",onClick:function(){return l("image")}}),"Image message"]})]}),"text"===o?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("input",{type:"text",id:"otherName",placeholder:"your friend's username"}),Object(u.jsx)("textarea",{id:"firstMsg",placeholder:"type in a message!"}),Object(u.jsx)("button",{type:"submit",id:"sendFirstMsg",onClick:function(){return Re(o,p,m,d)},children:"Start conversation!"})]}):"audio"===o?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("input",{type:"text",id:"otherName",placeholder:"your friend's username"}),Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"audio/*"}),Object(u.jsx)("button",{type:"submit",id:"sendFirstMsg",onClick:function(){return Re(o,p,m,d)},children:"Start conversation!"})]}):"video"===o?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("input",{type:"text",id:"otherName",placeholder:"your friend's username"}),Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"video/*"}),Object(u.jsx)("button",{type:"submit",id:"sendFirstMsg",onClick:function(){return Re(o,p,m,d)},children:"Start conversation!"})]}):"image"===o?Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("input",{type:"text",id:"otherName",placeholder:"your friend's username"}),Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"image/*"}),Object(u.jsx)("button",{type:"submit",id:"sendFirstMsg",onClick:function(){return Re(o,p,m,d)},children:"Start conversation!"})]}):null]}),Object(u.jsx)("div",{className:"convo-area",id:"view-convos",children:"You do not have any messages :("})]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return d({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return d({link:"/"})},children:"Log out"})]})]})]})},Ge=n(10),Se=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.sendGetRequest("/message/".concat(t,"/").concat(n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(e,t){if(0!==e.length){var n=document.getElementById("view-msgs");if(n)for(;n.firstChild;)n.removeChild(n.firstChild)}for(var r=0;r<e.length;r+=1){var i="".concat(e[r].senderName);if(null!==e[r].txt?i+='<div class="content txt">\n          '.concat(e[r].txt,"\n        </div>"):null!==e[r].img?i+='<div class="content txt">\n          <img src='.concat(e[r].img,' class="image" alt="').concat(e[r].senderName,"'s image\" />\n        </div>"):null!==e[r].audio?i+='<div class="content txt">\n          <audio controls>\n            <source src='.concat(e[r].audio,">\n          </audio>\n        </div>"):null!==e[r].video&&(i+='<div class="content txt">\n          <video src='.concat(e[r].video," controls>\n            Something went wrong!\n          </video>\n        </div>")),t===e[r].fromId){var s="".concat(new Date(Date.parse(e[r].isDelivered)).getMonth(),"-").concat(new Date(Date.parse(e[r].isDelivered)).getDate(),"-").concat(new Date(Date.parse(e[r].isDelivered)).getFullYear()," at ").concat(new Date(Date.parse(e[r].isDelivered)).getHours(),":").concat(new Date(Date.parse(e[r].isDelivered)).getMinutes()<10?"0".concat(new Date(Date.parse(e[r].isDelivered)).getMinutes()):new Date(Date.parse(e[r].isDelivered)).getMinutes()),a="".concat(new Date(Date.parse(e[r].isRead)).getMonth(),"-").concat(new Date(Date.parse(e[r].isRead)).getDate(),"-").concat(new Date(Date.parse(e[r].isRead)).getFullYear()," at ").concat(new Date(Date.parse(e[r].isRead)).getHours(),":").concat(new Date(Date.parse(e[r].isRead)).getMinutes()<10?"0".concat(new Date(Date.parse(e[r].isRead)).getMinutes()):new Date(Date.parse(e[r].isRead)).getMinutes());i+="".concat(null===e[r].isRead?"Delivered ".concat(s):"Read ".concat(a))}var c=document.createElement("div");c.className="msg",c.id=t===e[r].fromId?"i-sent":"they-sent",c.innerHTML=i,document.getElementById("view-msgs").appendChild(c)}},Pe=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.getElementById("firstMsg").files[0],!("image"===t&&s.size>1e7)){e.next=4;break}return i({link:"/conversation/img"}),e.abrupt("return",null);case 4:if("audio"!==t&&"video"!==t||!(s.size>1e8)){e.next=7;break}return i({link:"/conversation/av"}),e.abrupt("return",null);case 7:return(a=new FormData).append("file",s),a.append("upload_preset",["yj7lgb8v"]),L("https://api.cloudinary.com/v1_1/cis557-project-group-18/".concat("image"===t?"image":"video","/upload"),a).then((function(e){var i={toId:n.viewingConvo.otherUserId,fromId:n.userId,senderName:n.username};return"image"===t?i.img=e.data.url:"video"===t?i.video=e.data.url:i.audio=e.data.url,Ge.sendPostRequest("/message/".concat(t,"/").concat(n.viewingConvo.otherUserId),{msg:i}).then((function(e){r().then((function(){return e}))}))})),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),qe=function(){var e=Object(g.a)(h.a.mark((function e(t,n,r,i){var s,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==n){e.next=2;break}return e.abrupt("return",Pe(n,r,t,i));case 2:if("video"!==n){e.next=4;break}return e.abrupt("return",Pe(n,r,t,i));case 4:if("image"!==n){e.next=6;break}return e.abrupt("return",Pe(n,r,t,i));case 6:return s={toId:r.viewingConvo.otherUserId,fromId:r.userId,senderName:r.username},a=document.getElementById("firstMsg").value,s.txt=a,e.next=11,Ge.sendPostRequest("/message/text/".concat(r.viewingConvo.otherUserId),{msg:s});case 11:return c=e.sent,e.next=14,t();case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();n(282);var Fe=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)("text"),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)([]),d=Object(c.a)(l,2),p=(d[0],d[1]),m=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(n.viewingConvo.id,n.userId);case 2:t=e.sent,p(t),Ee(t,n.userId),document.getElementById("view-msgs").scrollTop=document.getElementById("view-msgs").scrollHeight;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsx)("div",{id:"view-msgs",children:"You do not have any messages! Send a message."}),Object(u.jsxs)("div",{id:"send-msg",children:["img"===window.location.href.split("/").pop()?"ERROR sending message: image file too large":null,"av"===window.location.href.split("/").pop()?"ERROR sending message: audio/video file size too large":null,Object(u.jsxs)("div",{id:"options",children:[Object(u.jsxs)("label",{htmlFor:"textInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"textInput",name:"msgType",onClick:function(){return o("text")}}),"Text message"]}),Object(u.jsxs)("label",{htmlFor:"audioInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"audioInput",name:"msgType",onClick:function(){return o("audio")}}),"Audio message"]}),Object(u.jsxs)("label",{htmlFor:"videoInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"videoInput",name:"msgType",onClick:function(){return o("video")}}),"Video message"]}),Object(u.jsxs)("label",{htmlFor:"imageInput",className:"list",children:[Object(u.jsx)("input",{type:"radio",id:"imageInput",name:"msgType",onClick:function(){return o("image")}}),"Image message"]})]}),"text"===a?Object(u.jsx)("textarea",{id:"firstMsg",placeholder:"type in a message!"}):"audio"===a?Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"audio/*"}):"video"===a?Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"video/*"}):"image"===a?Object(u.jsx)("input",{type:"file",id:"firstMsg",multiple:!0,accept:"image/*"}):null,Object(u.jsx)("button",{type:"submit",id:"sendMsgButton",onClick:function(){return qe(m,a,n,t)},children:"Send"})]})]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},Be=(n(283),n(284)),Me=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.getGroupAnalyticsFacts();case 2:return r=e.sent,t(r),e.next=6,Be.getPostAnalyticsFacts();case 6:i=e.sent,n(i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Ae=function(e){var t=e.changeState,n=e.state,i=Object(r.useState)([]),s=Object(c.a)(i,2),a=s[0],o=s[1],l=Object(r.useState)([]),d=Object(c.a)(l,2),p=d[0],m=d[1];return Object(r.useEffect)((function(){Me(o,m)}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsxs)("div",{className:"main-area",children:[Object(u.jsx)("div",{children:"Super advanced group analytics:"}),a.map((function(e){return Object(u.jsx)("div",{children:"".concat(e[0],": ").concat(e[1])},e[0])})),Object(u.jsx)("p",{}),Object(u.jsx)("div",{children:"Equally advanced post analytics:"}),p.map((function(e){return Object(u.jsx)("div",{children:"".concat(e[0],": ").concat(e[1])},e[0])}))]}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})},Te=(n(285),n(286));var Ue=function(e){var t=e.changeState,n=e.state,i=function(){var e=Object(g.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getFlaggedPostsForReview(n);case 2:r=e.sent,Te.parseFlaggedPosts(r,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[n]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"social-media-title",children:"Social Media"}),Object(u.jsx)("div",{className:"profile-picture",children:Object(u.jsx)("div",{className:"img"})}),Object(u.jsx)("div",{className:"username",children:"Hi, ".concat(n.username,"!")})]}),Object(u.jsxs)("div",{className:"top-navbar",children:[Object(u.jsx)("div",{className:"home-link",onClick:function(){return t({link:"/main"})},onKeyDown:function(){return t({link:"/main"})},role:"link",tabIndex:0,children:"Home"}),Object(u.jsx)("div",{className:"profile-link",onClick:function(){return t({link:"/profile"})},onKeyDown:function(){return t({link:"/profile"})},role:"link",tabIndex:0,children:"Profile"})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"side-navbar",children:[Object(u.jsx)("button",{type:"submit",className:"notifications",onClick:function(){return t({link:"/notifications"})},children:"Notifications"}),Object(u.jsx)("button",{type:"submit",className:"events",onClick:function(){return t({link:"/analytics"})},children:"Analytics"}),Object(u.jsx)("button",{type:"submit",className:"groups",onClick:function(){return t({link:"/groups"})},children:"Groups"}),Object(u.jsx)("button",{type:"submit",className:"invitations",onClick:function(){return t({link:"/invitations"})},children:"Group Invitations and Requests "}),Object(u.jsx)("button",{type:"submit",className:"photos",onClick:function(){return t({link:"/flaggedposts"})},children:"Flagged posts"})]}),Object(u.jsx)("div",{className:"main-area",children:Object(u.jsx)("div",{className:"post-flag-area",id:"post-create-area",children:"No posts have been flagged! You are off the hook :D"})}),Object(u.jsxs)("div",{className:"side-navbar",id:"forMessages",children:[Object(u.jsx)("button",{type:"submit",className:"messages",onClick:function(){return t({link:"/messages"})},children:"Messages"}),Object(u.jsx)("button",{type:"submit",className:"logout",onClick:function(){return t({link:"/"})},children:"Log out"})]})]})]})};var He=function(){var e=Object(r.useState)({link:"/",userId:-1,username:"",viewingGroup:-1,viewingConvo:{id:-1,otherUserId:-1}}),t=Object(c.a)(e,2),n=t[0],i=t[1],s=function(e){"undefined"!==typeof e.link&&window.history.pushState(null,"",e.link),i((function(t){return{link:"undefined"!==typeof e.link?e.link:t.link,userId:"undefined"!==typeof e.userId?e.userId:t.userId,username:"undefined"!==typeof e.username?e.username:t.username,viewingGroup:"undefined"!==typeof e.viewingGroup?e.viewingGroup:t.viewingGroup,viewingConvo:"undefined"!==typeof e.viewingConvo?e.viewingConvo:t.viewingConvo}}))};return function(e){if(e.includes("/profile"))return Object(u.jsx)(I,{changeState:s,state:n});if(e.includes("/home")||e.includes("/main"))return Object(u.jsx)(O,{changeState:s,state:n});if(e.includes("/groups"))return Object(u.jsx)(_,{changeState:s,state:n});if(e.includes("/notifications"))return Object(u.jsx)(S,{changeState:s,state:n});if(e.includes("/messages")||e.includes("/messages/error")||e.includes("/messages/group")||e.includes("/messages/user")||e.includes("/messages/img")||e.includes("/messages/av"))return Object(u.jsx)(De,{changeState:s,state:n});if(e.includes("/conversation")||e.includes("/conversation/img")||e.includes("/conversation/av"))return Object(u.jsx)(Fe,{changeState:s,state:n});if(e.includes("/changepassword"))return Object(u.jsx)(A,{changeState:s,state:n,userId:n.userId});if(e.includes("/viewgroup")||e.includes("/viewgroup/error")||e.includes("/viewgroup/post/error")||e.includes("/viewgroup/admin"))return Object(u.jsx)(pe,{changeState:s,state:n});if(e.includes("/invitations"))return Object(u.jsx)(fe,{changeState:s,state:n});if(e.includes("/deactivate-account"))return Object(u.jsx)(ye,{changeState:s,state:n});if(e.includes("/flaggedposts"))return Object(u.jsx)(Ue,{changeState:s,state:n});if(e.includes("/analytics"))return Object(u.jsx)(Ae,{changeState:s,state:n});var t=e.split("/").pop(),r=e.split("/")[3];return e.includes("/loginchangepassword")||e.includes("/registration")||""===t||e.includes("/registration/error")||"error"===r||"locked"===r?Object(u.jsx)(j,{changeState:s,state:n}):n}(window.location.href)},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(He,{})}),document.getElementById("root")),Le()},43:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t),n.d(t,"verifyUser",(function(){return u})),n.d(t,"changePassword",(function(){return l}));var r=n(1),i=n.n(r),s=n(2),a=n(44).createHash,c=n(10),o=n(125),u=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s,o){var u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={user_name:n,user_password:a("sha256").update(r).digest("hex"),attempt:o},e.next=3,c.sendPostRequest("/login",u);case 3:void 0===(l=e.sent).err?(t({link:"/main",userId:l.profile[0].user_id,username:u.user_name}),console.log("userid is: ".concat(l.profile[0].user_id))):l.err.includes("locked")||l.err.includes("jail")?t({link:"/locked"}):(s(o+1),t({link:"/error"}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,i,s){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r,s){var u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.validatePassword(t,r,s,"/loginchangepassword/invalid")){e.next=10;break}return e.next=3,c.sendGetRequest("/user-by-name/".concat(n));case 3:if(0!==(u=e.sent).length){e.next=7;break}return t({link:"/loginchangepassword/user"}),e.abrupt("return");case 7:return e.next=9,c.sendPutRequest("/user/".concat(u[0].user_id),{user_password:a("sha256").update(r).digest("hex")});case 9:t({link:"/"});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}},[[287,1,2]]]);
//# sourceMappingURL=main.34293293.chunk.js.map